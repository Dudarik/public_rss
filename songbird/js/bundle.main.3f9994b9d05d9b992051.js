(()=>{"use strict";const e=async e=>{const t=await fetch(e).then((e=>e.text())).then((e=>(new DOMParser).parseFromString(e,"text/html").querySelector("#page"))),n=document.querySelector("#app");n.innerHTML="",n.append(t)},t={currentPage:"main",currentPoints:0,questionPoints:5,isPlay:!1,isInGame:!1,isNextQuestion:!1,currentQuestion:{id:0,name:"",species:"",description:"",audio:"",image:""},settings:{isLSAvailabel:!1,language:"en",volume:50}},n={en:{menu:{main:"Main",quiz:"Quiz",results:"Results",gallery:"Gallery"}},ru:{menu:{main:"Главная",quiz:"Викторина",results:"Результаты",gallery:"Галлерея"}}},r=e=>{((e,t)=>{e.forEach((e=>{const r=e.dataset.menuLink;e.innerText=n[t].menu[r]}))})(document.querySelector("#main_menu").querySelectorAll(".menu_link"),e)};window.addEventListener("popstate",(()=>{e(location.pathname)})),window.addEventListener("load",(()=>{if(document.referrer){let t=document.referrer.split("");if(t=t.splice(0,t.lastIndexOf("/")+1).join(""),t===location.href)return e(document.referrer),void history.pushState(null,null,document.referrer)}e("main.html"),history.pushState(null,null,"main.html")})),document.querySelectorAll(".menu_link").forEach((t=>{t.addEventListener("click",(async n=>{n.preventDefault(),await e(t.href),history.pushState(null,null,t.href)}))})),document.querySelector("#lang_switcher").addEventListener("click",(e=>{const n=t.settings.language;t.settings.language="ru"===n?"en":"ru",e.target.innerText=t.settings.language.toLocaleUpperCase(),r(t.settings.language)})),r(t.settings.language)})();