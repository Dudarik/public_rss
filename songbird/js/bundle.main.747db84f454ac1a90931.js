(()=>{"use strict";console.log("working"),console.log(document.referrer),window.addEventListener("popstate",(()=>{e(location.pathname)})),window.addEventListener("load",(()=>{if(!document.referrer)return e("main.html"),void history.pushState(null,null,"main.html");if(document.referrer){let t=document.referrer.split("");t=t.splice(0,t.lastIndexOf("/")+1).join(""),t===location.href&&e(document.referrer),history.pushState(null,null,document.referrer)}}));const e=async e=>{const t=await fetch(e).then((e=>e.text())).then((e=>(new DOMParser).parseFromString(e,"text/html").querySelector("#page"))),r=document.querySelector(".main");r.innerHTML="",r.append(t),console.log(t)};document.querySelectorAll(".menu_link").forEach((t=>{t.addEventListener("click",(async r=>{r.preventDefault(),await e(t.href),history.pushState(null,null,t.href)}))}))})();