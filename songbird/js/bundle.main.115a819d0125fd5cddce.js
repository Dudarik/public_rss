(()=>{"use strict";console.log("working"),console.log(document.referrer),window.addEventListener("popstate",(()=>{e(location.pathname)})),window.addEventListener("load",(()=>{document.referrer||(e("main.html"),history.pushState(null,null,"main.html")),document.referrer&&(e(document.referrer),history.pushState(null,null,document.referrer))}));const e=async e=>{const t=await fetch(e).then((e=>e.text())).then((e=>(new DOMParser).parseFromString(e,"text/html").querySelector("#page"))),n=document.querySelector(".main");n.innerHTML="",n.append(t),console.log(t)};document.querySelectorAll(".menu_link").forEach((t=>{t.addEventListener("click",(async n=>{n.preventDefault(),await e(t.href),history.pushState(null,null,t.href)}))}))})();